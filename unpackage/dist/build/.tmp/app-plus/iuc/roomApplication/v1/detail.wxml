<view id="lab-apply-detail"><cu-custom vue-id="1" bgColor="bg-gradual-blue" isBack bind:__l="__l" vue-slots="{{['backText','content']}}"><view slot="backText">返回</view><view slot="content">实验室申请表</view></cu-custom><lab-steps bind:input="__e" vue-id="2" value="{{model}}" data-event-opts="{{[['^input',[['__set_model',['','model','$event',[]]]]]]}}" bind:__l="__l"></lab-steps><view class="action-list cu-list grid col-2 margin-top"><view data-event-opts="{{[['tap',[['changeState']]]]}}" class="cu-item" bindtap="__e"><view class="{{['text-blue',state==='detail'?'cuIcon-timefill':'cuIcon-form']}}"></view><text>{{state==='detail'?'流程跟踪':"查看申请表"}}</text></view><block wx:if="{{!currentStep.completed&&(isAdmin||isMyStep)}}"><view data-event-opts="{{[['tap',[['exeStep']]]]}}" class="cu-item" bindtap="__e"><view class="cuIcon-qrcode text-blue"></view><text>执行步骤</text></view></block></view><view hidden="{{!(state==='detail')}}" class="margin-tb"><view class="cu-form-group"><view class="title">申请人</view><input disabled value="{{model.Owner}}"/></view><view class="cu-form-group"><view class="title">申请事由</view><input disabled value="{{model.ApplicationReason}}"/></view><view class="cu-form-group"><view class="title">起止时间</view><input disabled="true" value="{{model.CreatedTime+'-'+model.EndDate}}"/></view><view class="cu-form-group"><view class="title">申请房间号</view><input disabled value="{{model.RoomName}}"/></view><view class="cu-form-group"><view class="title">指导老师</view><input disabled value="{{model.GuideTeacher}}"/></view></view><view hidden="{{!(state==='timeline')}}" class="margin-top"><block wx:for="{{$root.l1}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="cu-timeline"><view class="cu-time">{{item.$orig.Key}}</view><block wx:for="{{item.l0}}" wx:for-item="v" wx:for-index="k" wx:key="k"><view class="{{['cu-item','text-'+stepColor[v.$orig.State]]}}"><view class="content"><view class="cu-capsule radius"><view class="{{['cu-tag','bg-'+stepColor[v.$orig.State]]}}">{{v.$orig.ExecutorName+stepInfo[v.$orig.State]}}</view><view class="{{['cu-tag','line-'+stepColor[v.$orig.State]]}}">{{v.$orig.Time}}</view></view><view class="margin-top">{{v.$orig.StepName}}</view></view><view class="text-grey text-sm margin-top"><block wx:if="{{v.m0}}">{{''+(v.$orig.ExecutorName?v.$orig.ExecutorName+' 正在进行中':"正在等待接手")+''}}</block><block wx:else><block wx:if="{{v.m1}}">{{'由'+v.$orig.Operator+"于"+v.$orig.CreatedOn+'完成'}}</block><block wx:else>{{'由'+v.$orig.Operator+"于"+v.$orig.CreatedOn+'取消'}}</block></block></view></view></block></view></block></view></view>